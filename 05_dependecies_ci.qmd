---
title: "Dependencies and Continuous Integration"
format: revealjs
footer: Python package development
logo: campus_logo.png
---


## Dependency management

`Requirements.txt`

Example:

```
$ cat requirements.txt
numpy==1.11.0
scipy==0.17.0
matplotlib==1.5.1
```

## Continuous Integration

Running tests on every commit in a well defined environment ensures that the code is working as expected.

It solves the "it works on my machine" problem.

Executing code on a remote server is a good way to ensure that the code is working as expected.

Two main approaches are:

* GitHub Actions
* Azure Pipelines

## GitHub Actions

Workflow are stored in the `.github/workflows` folder.

```
$ tree mikeio/.github/
mikeio/.github/
â””â”€â”€ workflows
    â”œâ”€â”€ docs.yml
    â”œâ”€â”€ downstream_test.yml
    â”œâ”€â”€ full_test.yml
    â”œâ”€â”€ notebooks_test.yml
    â”œâ”€â”€ perf_test.yml
    â”œâ”€â”€ python-publish.yml
    â””â”€â”€ quick_test.yml
```

---

```yaml
name: Quick test

on: # when to run the workflow
  push:
    branches: [ main]
  pull_request:
    branches: [ main ]

jobs: # what to run
  build:
    runs-on: ubuntu-latest # on what operating system

    steps:
    - uses: actions/checkout@v3
    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: 3.9
    - name: Install dependencies
      run: |
        python -m pip install --upgrade pip

    - name: Install mikeio
      run: |
        pip install .[test]
    - name: Test with pytest
      run: |
        pytest
```

---

ğŸ™‚ğŸš€

![](images/github_action_result.png)

---

â˜¹ï¸

![](images/github_action_result_fail.png)

